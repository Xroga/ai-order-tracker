# shopify.toml - Shopify App Configuration for CourierDetect Pro
name = "CourierDetect Pro"
client_id = "01eb5efeb620eef58d313a65bfe89e0c"

# Your Cloudflare Pages frontend URL (where your app UI lives)
application_url = "https://my-shopify-app.pages.dev"
embedded = true

[auth]
# CRITICAL: This must match the redirect_uri in your worker.js
# Must point to YOUR Worker's /auth/callback endpoint
redirect_urls = [
  "https://courierdetect.evanderthorne-help.workers.dev/auth/callback"
]

[access_scopes]
# Scopes your app requires from Shopify stores
scopes = "read_orders,write_orders,read_products"

[webhooks]
api_version = "2024-07"

[build]
# Since you're using Cloudflare Pages for deployment
command = "echo 'No build required - using Cloudflare Pages'"
publish = "."

# Optional: Development environment override
[env.development]
application_url = "https://dev.my-shopify-app.pages.dev"
[auth]
redirect_urls = [
  "https://courierdetect-dev.evanderthorne-help.workers.dev/auth/callback"
]
